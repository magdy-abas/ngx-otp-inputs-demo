<div class="container py-4">
  <header class="d-flex align-items-center justify-content-between mb-4">
    <div>
      <h1 class="h4 m-0">ngx-otp-inputs — Feature Playground</h1>
    </div>
    <div class="d-flex gap-2">
      <a class="btn btn-outline-secondary btn-sm" href="https://www.npmjs.com/package/ngx-otp-inputs"
        target="_blank">npm</a>
      <a class="btn btn-warning btn-sm" href="https://github.com/magdy-abas/ngx-otp-inputs" target="_blank">Star on
        GitHub</a>
    </div>
  </header>

  <div class="row g-4">
    <!-- Playground -->
    <div class="col-12 col-lg-7">
      <div class="card shadow-sm h-100">
        <div class="card-header fw-semibold d-flex align-items-center justify-content-between">
          <span>OTP Playground</span>
          <div class="d-flex gap-2">
            <button class="btn btn-outline-primary btn-sm" type="button" (click)="fillDemo()">Fill demo</button>
            <button class="btn btn-outline-secondary btn-sm" type="button" (click)="reset()">Reset</button>
          </div>
        </div>

        <div class="card-body">
          <form [formGroup]="form" (ngSubmit)="submit()" class="d-grid gap-3">
            <div class="otp-surface p-4 rounded-3" [class.otp-success]="status==='success'"
              [class.otp-failed]="status==='failed'">
              <div class="otp-wrap-inner">
                <ng-container *ngIf="otpAlive">
                  <lib-ngx-otp-inputs formControlName="otp" [length]="length" [direction]="direction"
                    [disabled]="disabled" [inputType]="inputType" [autoFocus]="autoFocus" [inputClass]="inputClass"
                    [wrapperClass]="wrapperClass" [readonly]="readonly" [status]="status" [autoSubmit]="autoSubmit"
                    [maskInput]="maskInput" [inputMode]="inputMode" [autoBlur]="autoBlur" [ariaLabels]="ariaLabels"
                    (completed)="onCompleted($event)" (changed)="onChanged($event)">
                  </lib-ngx-otp-inputs>
                </ng-container>
              </div>
            </div>

            <div class="form-text small">
              <b>Value:</b> {{ form.value | json }} |
              <b>Valid:</b> {{ form.valid }} |
              <b>Status:</b> {{ status || 'none' }}
            </div>

            <div class="d-flex gap-2 flex-wrap">
              <button class="btn btn-primary" type="submit" [disabled]="!form.valid">Submit</button>
              <button class="btn btn-outline-secondary" type="button" (click)="reset()">Reset</button>
              <button class="btn btn-outline-dark" type="button" (click)="copyValue()" [disabled]="!form.value.otp">Copy
                value</button>
            </div>

            <div class="invalid-feedback d-block" *ngIf="form.invalid">
              Please enter the full code ({{ length }} digits).
            </div>
          </form>

          <!-- Logs -->
          <div class="mt-4">
            <div class="d-flex align-items-center justify-content-between mb-2">
              <div class="fw-semibold">Logs</div>
              <button class="btn btn-sm btn-outline-secondary" type="button" (click)="clearLogs()">Clear</button>
            </div>
            <pre class="log-box" #logBox><code>{{ logs.join('\n') || '—' }}</code></pre>
          </div>
        </div>
      </div>
    </div>

    <!-- Controls -->
    <div class="col-12 col-lg-5">
      <div class="card shadow-sm sticky-lg-top controls-card" style="top: 16px">
        <div class="card-header fw-semibold">Controls</div>
        <div class="card-body">
          <div class="row g-3">
            <div class="col-6">
              <label class="form-label">Direction</label>
              <div class="select-clean">
                <select class="form-select form-select-sm" [(ngModel)]="direction">
                  <option value="ltr">LTR</option>
                  <option value="rtl">RTL</option>
                </select>
              </div>
            </div>

            <div class="col-6">
              <label class="form-label">Length</label>
              <input type="number" class="form-control form-control-sm" [ngModel]="length"
                (ngModelChange)="onLengthChange($event)" min="1">
            </div>

            <div class="col-6">
              <label class="form-label">Input Type</label>
              <select class="form-select form-select-sm" [(ngModel)]="inputType">
                <option value="number">number</option>
                <option value="text">text</option>
                <option value="alphanumeric">alphanumeric</option>
              </select>
            </div>

            <div class="col-6">
              <label class="form-label">Input Mode</label>
              <select class="form-select form-select-sm" [(ngModel)]="inputMode">
                <option value="numeric">numeric</option>
                <option value="text">text</option>
                <option value="decimal">decimal</option>
                <option value="tel">tel</option>
                <option value="email">email</option>
              </select>
            </div>

            <div class="col-6">
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" [(ngModel)]="maskInput" id="maskInput">
                <label class="form-check-label" for="maskInput">Mask input</label>
              </div>
            </div>

            <div class="col-6">
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" [(ngModel)]="autoSubmit" id="autoSubmit">
                <label class="form-check-label" for="autoSubmit">Auto submit</label>
              </div>
            </div>

            <div class="col-6">
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" [(ngModel)]="autoBlur" id="autoBlur">
                <label class="form-check-label" for="autoBlur">Auto blur</label>
              </div>
            </div>

            <div class="col-6">
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" [(ngModel)]="autoFocus" id="autoFocus">
                <label class="form-check-label" for="autoFocus">Auto focus first</label>
              </div>
            </div>

            <div class="col-6">
              <label class="form-label">Status</label>
              <select class="form-select form-select-sm" [(ngModel)]="status">
                <option [ngValue]="null">none</option>
                <option value="success">success</option>
                <option value="failed">failed</option>
              </select>
            </div>

            <div class="col-6">
              <label class="form-label">ARIA labels (CSV)</label>
              <input class="form-control form-control-sm" [(ngModel)]="ariaLabelsCsv"
                placeholder="Digit 1, Digit 2, ...">
            </div>

            <div class="col-6">
              <label class="form-label">inputClass</label>
              <input class="form-control form-control-sm" [(ngModel)]="inputClass" placeholder="otp-input">
            </div>

            <div class="col-6">
              <label class="form-label">wrapperClass</label>
              <input class="form-control form-control-sm" [(ngModel)]="wrapperClass" placeholder="otp-wrapper">
            </div>
          </div>

          <div class="alert alert-secondary small mb-0 mt-3">
            Tip: set <code>inputMode="numeric"</code> on mobile for a better keypad.
          </div>
        </div>
      </div>
    </div>
  </div>
</div>